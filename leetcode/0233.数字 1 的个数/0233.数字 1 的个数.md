# 233.数字 1 的个数

## 题目描述 

https://leetcode.cn/problems/number-of-digit-one

给定一个整数 `n`，计算所有小于等于 `n` 的非负整数中数字 `1` 出现的个数。

 

**示例 1：**

```
输入：n = 13
输出：6
```

**示例 2：**

```
输入：n = 0
输出：0
```

 

**提示：**

- `0 <= n <= 10^9`



## 题目分析

枚举每一数位上 1 的个数

考虑枚举每一个数位，分别统计该数位上数字 1 出现的次数，最后将所有数位统计出的次数进行累加即可得到答案。

当数位为 10^k^ 时，最后的 k 个数位每 10^k+1^个数会循环一次，并且其中包含 10^k^个 1，由于 n 包含 $ ⌊\frac{n}{10^{k+1}}⌋$ 个完整的循环，那么这一部分的 1 的个数为 $⌊\frac{n}{10^{k+1}}⌋×10^k $。不在循环中的部分还有 n mod 10^k+1^个数，这一部分的 1 的个数为 n mod 10^k+1^−10^k^+1，如果这个值小于 0，那么调整为出现 0 次；如果这个值大于 10^k^，那么调整为出现 10^k^ 次。



## 题目解答

C++代码

```c++
class Solution {
public:
    int countDigitOne(int n) {
        long long mulk = 1;
        int ans = 0;
        for(int k = 0; n >= mulk; ++k){
            ans += (n / (mulk * 10)) * mulk + min(max(n % (mulk * 10) - mulk + 1, 0LL), mulk);
            mulk *= 10;
        }
        return ans;
    }
};
```

TypeScript代码

```typescript

```

复杂度分析：

* 时间复杂度：*O*(log*n*)。n 包含的数位个数与 n 呈对数关系。
* 空间复杂度：O(1)

